2021-03-03 기준 `node`를 설치하면, 글로벌 패키지 경로가 괴상한 곳으로 잡힌다. 윈도우에서는 `C:\(username)\AppData\Roaming\npm\node_modules`, 리눅스에서는 `/usr/lib` 따위의 장소를 잡아놓는다.

![](./나쁜 npm(권한오류)-0.jpg)

이게 문제가 되는 이유는, 글로벌 패키지를 설치/수정/삭제 할 때마다 관리자 권한을 요구하기 때문이다. 윈도우에서는 매번 cmd나 파워셸을 관리자 권한으로 실행시켜야 하며, 리눅스에서는 매번 `sudo` 명령어를 붙여서 실행해야 한다.



# 해결책

놀랍게도 `npm`은 병주고 약주고를 실천하고 있다. 해결 방법은 [공식문서](http://npm.github.io/installation-setup-docs/installing/a-note-on-permissions.html)에 잘 설명이 돼 있으니 참고하면 된다.

크게 3가지로 나누면

1. `npm`이 기본으로 설정한 해당 경로의 권한을 바꾼다
2. `npm`의 글로벌 패키지 경로를 변경한다.
3. `node`를 다른 패키지 매니저로 설치한다. (brew 같은)

1번은 되게 찝찝한데다 윈도우에서는 먹히지 않는다. 사람들이 많이 애용하는 방법은 2번이라고 한다.